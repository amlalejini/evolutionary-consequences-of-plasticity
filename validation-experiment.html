<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Validation experiment | Supplemental Material</title>
  <meta name="description" content="Supplemental material" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Validation experiment | Supplemental Material" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Supplemental material" />
  <meta name="github-repo" content="amlalejini/evolutionary-consequences-of-plasticity" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Validation experiment | Supplemental Material" />
  
  <meta name="twitter:description" content="Supplemental material" />
  

<meta name="author" content="Alexander Lalejini, Austin J. Ferguson, and Charles Ofria" />


<meta name="date" content="2021-01-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Supplemental material</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="validation-experiment.html"><a href="validation-experiment.html"><i class="fa fa-check"></i><b>2</b> Validation experiment</a><ul>
<li class="chapter" data-level="2.1" data-path="validation-experiment.html"><a href="validation-experiment.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="validation-experiment.html"><a href="validation-experiment.html#analysis-dependencies"><i class="fa fa-check"></i><b>2.2</b> Analysis dependencies</a></li>
<li class="chapter" data-level="2.3" data-path="validation-experiment.html"><a href="validation-experiment.html#setup"><i class="fa fa-check"></i><b>2.3</b> Setup</a></li>
<li class="chapter" data-level="2.4" data-path="validation-experiment.html"><a href="validation-experiment.html#evolution-of-phenotypic-plasticity"><i class="fa fa-check"></i><b>2.4</b> Evolution of phenotypic plasticity</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><i class="fa fa-check"></i><b>3</b> Effect of phenotypic plasticity on subsequent evolutionary dynamics</a><ul>
<li class="chapter" data-level="3.1" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#overview-1"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#analysis-dependencies-1"><i class="fa fa-check"></i><b>3.2</b> Analysis dependencies</a></li>
<li class="chapter" data-level="3.3" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#setup-1"><i class="fa fa-check"></i><b>3.3</b> Setup</a></li>
<li class="chapter" data-level="3.4" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#evolution-of-phenotypic-plasticity-1"><i class="fa fa-check"></i><b>3.4</b> Evolution of phenotypic plasticity</a></li>
<li class="chapter" data-level="3.5" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#phenotypic-volatility-along-dominant-lineage"><i class="fa fa-check"></i><b>3.5</b> Phenotypic volatility along dominant lineage</a></li>
<li class="chapter" data-level="3.6" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#mutation-accumulation-along-dominant-lineage"><i class="fa fa-check"></i><b>3.6</b> Mutation accumulation along dominant lineage</a><ul>
<li class="chapter" data-level="3.6.1" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#mutation-accumulation-normalized-by-lineage-length"><i class="fa fa-check"></i><b>3.6.1</b> Mutation accumulation normalized by lineage length</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#selective-sweeps"><i class="fa fa-check"></i><b>3.7</b> Selective sweeps</a></li>
<li class="chapter" data-level="3.8" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#genome-length"><i class="fa fa-check"></i><b>3.8</b> Genome length</a></li>
<li class="chapter" data-level="3.9" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#diversity-over-time"><i class="fa fa-check"></i><b>3.9</b> Diversity over time</a><ul>
<li class="chapter" data-level="3.9.1" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#shannon-entropy-over-time"><i class="fa fa-check"></i><b>3.9.1</b> Shannon entropy over time</a></li>
<li class="chapter" data-level="3.9.2" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#phylogenetic-diversity-over-time"><i class="fa fa-check"></i><b>3.9.2</b> Phylogenetic diversity over time</a></li>
<li class="chapter" data-level="3.9.3" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#number-of-extant-taxa-genotypes-over-time"><i class="fa fa-check"></i><b>3.9.3</b> Number of extant taxa (genotypes) over time</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html"><a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html#camera-ready-figures"><i class="fa fa-check"></i><b>3.10</b> Camera-ready figures</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><i class="fa fa-check"></i><b>4</b> Effect of phenotypic plasticity on the evolution and maintenance of complex features</a><ul>
<li class="chapter" data-level="4.1" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#overview-2"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#analysis-dependencies-2"><i class="fa fa-check"></i><b>4.2</b> Analysis dependencies</a></li>
<li class="chapter" data-level="4.3" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#setup-2"><i class="fa fa-check"></i><b>4.3</b> Setup</a></li>
<li class="chapter" data-level="4.4" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#evolution-of-phenotypic-plasticity-2"><i class="fa fa-check"></i><b>4.4</b> Evolution of phenotypic plasticity</a></li>
<li class="chapter" data-level="4.5" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#genome-length-1"><i class="fa fa-check"></i><b>4.5</b> Genome length</a></li>
<li class="chapter" data-level="4.6" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#extra-task-performance-at-the-end-of-the-experiment-dominant"><i class="fa fa-check"></i><b>4.6</b> Extra task performance at the end of the experiment (dominant)</a></li>
<li class="chapter" data-level="4.7" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#extra-tasks-along-lineage-of-final-dominant-genotype"><i class="fa fa-check"></i><b>4.7</b> Extra tasks along lineage of final dominant genotype</a><ul>
<li class="chapter" data-level="4.7.1" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#tasks-discovered"><i class="fa fa-check"></i><b>4.7.1</b> Tasks discovered</a></li>
<li class="chapter" data-level="4.7.2" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#tasks-gained"><i class="fa fa-check"></i><b>4.7.2</b> Tasks gained</a></li>
<li class="chapter" data-level="4.7.3" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#tasks-lost"><i class="fa fa-check"></i><b>4.7.3</b> Tasks lost</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html"><a href="effect-of-phenotypic-plasticity-on-the-evolution-and-maintenance-of-complex-features.html#extra-task-performance-over-time"><i class="fa fa-check"></i><b>4.8</b> Extra task performance over time</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with ❤ and bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Supplemental Material</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="validation-experiment" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Validation experiment</h1>
<p>In this experiment, we validate that
(1) we observe the evolution of phenotypic plasticity in a changing environment when digital organisms have access to sensory instructions (capable of differentiating environmental states)
and (2) that adaptive phenotypic plasticity does not evolve when populations lack access to sensory instructions.</p>
<div id="overview" class="section level2">
<h2><span class="header-section-number">2.1</span> Overview</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">total_updates &lt;-<span class="st"> </span><span class="dv">200000</span></a>
<a class="sourceLine" id="cb1-2" title="2">replicates &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">all_traits &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;not&quot;</span>,<span class="st">&quot;nand&quot;</span>,<span class="st">&quot;and&quot;</span>,<span class="st">&quot;ornot&quot;</span>,<span class="st">&quot;or&quot;</span>,<span class="st">&quot;andnot&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" title="5">traits_set_a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;not&quot;</span>, <span class="st">&quot;and&quot;</span>, <span class="st">&quot;or&quot;</span>)</a>
<a class="sourceLine" id="cb1-6" title="6">traits_set_b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;nand&quot;</span>, <span class="st">&quot;ornot&quot;</span>, <span class="st">&quot;andnot&quot;</span>)</a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co"># Relative location of data.</span></a>
<a class="sourceLine" id="cb1-9" title="9">working_directory &lt;-<span class="st"> &quot;experiments/2021-01-07-validation/analysis/&quot;</span> <span class="co"># &lt;&lt; For bookdown</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co"># working_directory &lt;- &quot;./&quot;                                              # &lt;&lt; For local analysis</span></a></code></pre></div>
<p>We evolved populations of digital organisms under four conditions:</p>
<ol style="list-style-type: decimal">
<li>A fluctuating environment with access to sensory instructions</li>
<li>A fluctuating environment without access to sensory instructions (i.e., sensory instructions are no-operations)</li>
<li>A constant environment with access to sensory instructions</li>
<li>A constant environment without access to sensory instructions</li>
</ol>
<p>In fluctuating environments, we alternate between rewarding and punishing different sets of computational tasks.
In one environment, we reward tasks not, and, or and punish tasks nand, ornot, andnot.
In the alternative environment, we reward tasks nand, ornot, andnot and punish tasks not, and, or.
In constant environments, we reward all tasks (not, nand, and, ornot, or, andnot).</p>
<p>For each replicate of each condition, we extract the dominant (i.e., most numerous) genotype at the end of the run to analyze further.
We expect to observe the evolution of adaptive phenotypic plasticity in only the first experimental condition.
In conditions without sensors, plasticity in any form should be unable to evolve.</p>
</div>
<div id="analysis-dependencies" class="section level2">
<h2><span class="header-section-number">2.2</span> Analysis dependencies</h2>
<p>Load all required R libraries.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">library</span>(cowplot)</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">source</span>(<span class="st">&quot;https://gist.githubusercontent.com/benmarwick/2a1bb0133ff568cbe28d/raw/fb53bd97121f7f9ce947837ef1a4c65a73bffb3f/geom_flat_violin.R&quot;</span>)</a></code></pre></div>
<p>These analyses were conducted/knitted with the following computing environment:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">print</span>(version)</a></code></pre></div>
<pre><code>##                _                           
## platform       x86_64-pc-linux-gnu         
## arch           x86_64                      
## os             linux-gnu                   
## system         x86_64, linux-gnu           
## status                                     
## major          4                           
## minor          0.3                         
## year           2020                        
## month          10                          
## day            10                          
## svn rev        79318                       
## language       R                           
## version.string R version 4.0.3 (2020-10-10)
## nickname       Bunny-Wunnies Freak Out</code></pre>
</div>
<div id="setup" class="section level2">
<h2><span class="header-section-number">2.3</span> Setup</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">data_loc &lt;-<span class="st"> </span><span class="kw">paste0</span>(working_directory, <span class="st">&quot;data/aggregate.csv&quot;</span>)</a>
<a class="sourceLine" id="cb5-2" title="2">data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(data_loc, <span class="dt">na.strings=</span><span class="st">&quot;NONE&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4">data<span class="op">$</span>DISABLE_REACTION_SENSORS &lt;-<span class="st"> </span><span class="kw">as.factor</span>(data<span class="op">$</span>DISABLE_REACTION_SENSORS)</a>
<a class="sourceLine" id="cb5-5" title="5">data<span class="op">$</span>chg_env &lt;-<span class="st"> </span><span class="kw">as.factor</span>(data<span class="op">$</span>chg_env)</a>
<a class="sourceLine" id="cb5-6" title="6">data<span class="op">$</span>dom_plastic_odd_even &lt;-<span class="st"> </span><span class="kw">as.factor</span>(data<span class="op">$</span>dom_plastic_odd_even)</a>
<a class="sourceLine" id="cb5-7" title="7">data<span class="op">$</span>sensors &lt;-<span class="st"> </span>data<span class="op">$</span>DISABLE_REACTION_SENSORS <span class="op">==</span><span class="st"> &quot;0&quot;</span></a>
<a class="sourceLine" id="cb5-8" title="8">data<span class="op">$</span>is_plastic &lt;-<span class="st"> </span>data<span class="op">$</span>dom_plastic_odd_even <span class="op">==</span><span class="st"> &quot;True&quot;</span></a>
<a class="sourceLine" id="cb5-9" title="9"></a>
<a class="sourceLine" id="cb5-10" title="10">env_label_fun &lt;-<span class="st"> </span><span class="cf">function</span>(chg_env) {</a>
<a class="sourceLine" id="cb5-11" title="11">  <span class="cf">if</span> (chg_env) {</a>
<a class="sourceLine" id="cb5-12" title="12">    <span class="kw">return</span>(<span class="st">&quot;Fluctuating&quot;</span>)</a>
<a class="sourceLine" id="cb5-13" title="13">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb5-14" title="14">    <span class="kw">return</span>(<span class="st">&quot;Constant&quot;</span>)</a>
<a class="sourceLine" id="cb5-15" title="15">  }</a>
<a class="sourceLine" id="cb5-16" title="16">}</a>
<a class="sourceLine" id="cb5-17" title="17"></a>
<a class="sourceLine" id="cb5-18" title="18">sensors_label_fun &lt;-<span class="st"> </span><span class="cf">function</span>(has_sensors) {</a>
<a class="sourceLine" id="cb5-19" title="19">  <span class="cf">if</span> (has_sensors) {</a>
<a class="sourceLine" id="cb5-20" title="20">    <span class="kw">return</span>(<span class="st">&quot;Sensors&quot;</span>)</a>
<a class="sourceLine" id="cb5-21" title="21">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb5-22" title="22">    <span class="kw">return</span>(<span class="st">&quot;No sensors&quot;</span>)</a>
<a class="sourceLine" id="cb5-23" title="23">  }</a>
<a class="sourceLine" id="cb5-24" title="24">}</a>
<a class="sourceLine" id="cb5-25" title="25"></a>
<a class="sourceLine" id="cb5-26" title="26"><span class="co"># Count observed plasticity for each condition (I&#39;m sure there&#39;s a &#39;tidier&#39; way to do this..)</span></a>
<a class="sourceLine" id="cb5-27" title="27">observed_plasticity &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb5-28" title="28">  <span class="dt">environment=</span><span class="kw">character</span>(),</a>
<a class="sourceLine" id="cb5-29" title="29">  <span class="dt">sensors=</span><span class="kw">character</span>(),</a>
<a class="sourceLine" id="cb5-30" title="30">  <span class="dt">plastic=</span><span class="kw">integer</span>(),</a>
<a class="sourceLine" id="cb5-31" title="31">  <span class="dt">nonplastic=</span><span class="kw">integer</span>(),</a>
<a class="sourceLine" id="cb5-32" title="32">  <span class="dt">plastic_adaptive=</span><span class="kw">integer</span>(),</a>
<a class="sourceLine" id="cb5-33" title="33">  <span class="dt">plastic_optimal=</span><span class="kw">integer</span>(),</a>
<a class="sourceLine" id="cb5-34" title="34">  <span class="dt">plastic_nonadaptive=</span><span class="kw">integer</span>()</a>
<a class="sourceLine" id="cb5-35" title="35">)</a>
<a class="sourceLine" id="cb5-36" title="36"><span class="cf">for</span> (env_chg <span class="cf">in</span> <span class="kw">levels</span>(data<span class="op">$</span>chg_env)) {</a>
<a class="sourceLine" id="cb5-37" title="37">  <span class="cf">for</span> (disabled_sensors <span class="cf">in</span> <span class="kw">levels</span>(data<span class="op">$</span>DISABLE_REACTION_SENSORS)) {</a>
<a class="sourceLine" id="cb5-38" title="38">    cond_data &lt;-<span class="st"> </span><span class="kw">filter</span>(data, chg_env <span class="op">==</span><span class="st"> </span>env_chg <span class="op">&amp;</span><span class="st"> </span>data<span class="op">$</span>DISABLE_REACTION_SENSORS <span class="op">==</span><span class="st"> </span>disabled_sensors)</a>
<a class="sourceLine" id="cb5-39" title="39">    environment_label &lt;-<span class="st"> </span><span class="kw">env_label_fun</span>(env_chg)</a>
<a class="sourceLine" id="cb5-40" title="40">    sensors_label &lt;-<span class="st"> </span><span class="kw">sensors_label_fun</span>(disabled_sensors <span class="op">==</span><span class="st"> &quot;0&quot;</span>)</a>
<a class="sourceLine" id="cb5-41" title="41"></a>
<a class="sourceLine" id="cb5-42" title="42">    observed_plasticity &lt;-<span class="st"> </span>observed_plasticity <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_row</span>(</a>
<a class="sourceLine" id="cb5-43" title="43">      <span class="dt">environment=</span>environment_label,</a>
<a class="sourceLine" id="cb5-44" title="44">      <span class="dt">sensors=</span>sensors_label,</a>
<a class="sourceLine" id="cb5-45" title="45">      <span class="dt">plastic=</span><span class="kw">nrow</span>(<span class="kw">filter</span>(cond_data, is_plastic<span class="op">==</span><span class="ot">TRUE</span>)),</a>
<a class="sourceLine" id="cb5-46" title="46">      <span class="dt">nonplastic=</span><span class="kw">nrow</span>(<span class="kw">filter</span>(cond_data, is_plastic<span class="op">==</span><span class="ot">FALSE</span>)),</a>
<a class="sourceLine" id="cb5-47" title="47">      <span class="dt">plastic_adaptive=</span><span class="kw">nrow</span>(<span class="kw">filter</span>(cond_data, dom_adaptive_plasticity<span class="op">==</span><span class="st">&quot;True&quot;</span>)),</a>
<a class="sourceLine" id="cb5-48" title="48">      <span class="dt">plastic_optimal=</span><span class="kw">nrow</span>(<span class="kw">filter</span>(cond_data, dom_optimal_plastic<span class="op">==</span><span class="st">&quot;True&quot;</span>)),</a>
<a class="sourceLine" id="cb5-49" title="49">      <span class="dt">plastic_nonadaptive=</span><span class="kw">nrow</span>(<span class="kw">filter</span>(cond_data, is_plastic<span class="op">==</span><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span>dom_adaptive_plasticity<span class="op">==</span><span class="st">&quot;False&quot;</span>))</a>
<a class="sourceLine" id="cb5-50" title="50">    )</a>
<a class="sourceLine" id="cb5-51" title="51">  }</a>
<a class="sourceLine" id="cb5-52" title="52">}</a>
<a class="sourceLine" id="cb5-53" title="53"></a>
<a class="sourceLine" id="cb5-54" title="54">observed_plasticity &lt;-<span class="st"> </span><span class="kw">pivot_longer</span>(</a>
<a class="sourceLine" id="cb5-55" title="55">  observed_plasticity,</a>
<a class="sourceLine" id="cb5-56" title="56">  <span class="dt">cols=</span><span class="kw">c</span>(<span class="st">&quot;plastic&quot;</span>, <span class="st">&quot;plastic_adaptive&quot;</span>, <span class="st">&quot;plastic_optimal&quot;</span>, <span class="st">&quot;plastic_nonadaptive&quot;</span>, <span class="st">&quot;nonplastic&quot;</span>),</a>
<a class="sourceLine" id="cb5-57" title="57">  <span class="dt">names_to=</span><span class="st">&quot;phenotype&quot;</span>,</a>
<a class="sourceLine" id="cb5-58" title="58">  <span class="dt">values_to=</span><span class="st">&quot;phenotype_cnt&quot;</span></a>
<a class="sourceLine" id="cb5-59" title="59">)</a>
<a class="sourceLine" id="cb5-60" title="60"></a>
<a class="sourceLine" id="cb5-61" title="61"><span class="co">####### misc #######</span></a>
<a class="sourceLine" id="cb5-62" title="62"><span class="co"># Configure our default graphing theme</span></a>
<a class="sourceLine" id="cb5-63" title="63"><span class="kw">theme_set</span>(<span class="kw">theme_cowplot</span>())</a></code></pre></div>
</div>
<div id="evolution-of-phenotypic-plasticity" class="section level2">
<h2><span class="header-section-number">2.4</span> Evolution of phenotypic plasticity</h2>
<p>For each experimental condition, do we observe the evolution of phenotypic plasticity? To test for phenotypic plasticity, we culture digital organisms in both environments from the fluctuating condition (including organisms evolved in a constant environment).
Any plasticity that we observe from digital organisms evolved under constant conditions is cryptic variation (as these organisms were never exposed to these culturing environments).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">ggplot</span>(<span class="kw">filter</span>(observed_plasticity, phenotype <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;plastic&quot;</span>, <span class="st">&quot;nonplastic&quot;</span>)), <span class="kw">aes</span>(<span class="dt">x=</span>phenotype, <span class="dt">y=</span>phenotype_cnt, <span class="dt">fill=</span>phenotype)) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span><span class="kw">geom_bar</span>(</a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="dt">position=</span><span class="kw">position_dodge</span>(<span class="fl">0.9</span>)</a>
<a class="sourceLine" id="cb6-5" title="5">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="st">  </span><span class="kw">geom_text</span>(</a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">label=</span>phenotype_cnt),</a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="dt">vjust=</span><span class="fl">0.05</span></a>
<a class="sourceLine" id="cb6-10" title="10">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Accent&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="st">  </span><span class="kw">scale_x_discrete</span>(</a>
<a class="sourceLine" id="cb6-13" title="13">    <span class="dt">name=</span><span class="st">&quot;Phenotype&quot;</span>,</a>
<a class="sourceLine" id="cb6-14" title="14">    <span class="dt">limits=</span><span class="kw">c</span>(<span class="st">&quot;plastic&quot;</span>, <span class="st">&quot;nonplastic&quot;</span>),</a>
<a class="sourceLine" id="cb6-15" title="15">    <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Plastic&quot;</span>, <span class="st">&quot;Non-plastic&quot;</span>)</a>
<a class="sourceLine" id="cb6-16" title="16">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="st">  </span><span class="kw">facet_grid</span>(sensors<span class="op">~</span>environment) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="st">  </span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb6-19" title="19">    <span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span></a>
<a class="sourceLine" id="cb6-20" title="20">  )</a></code></pre></div>
<p><img src="supplemental-material_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Indeed, we do not observe the evolution of phenotypic plasticity in any replicates in which digital organisms do not have access to sensory instructions.
We do observe the evolution of plasticity (not necessarily adaptive plasticity) in both constant and fluctuating environments where sensors are enabled.</p>
<p>To what extent is the observed phenotypic plasticity adaptive?</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">ggplot</span>(<span class="kw">filter</span>(observed_plasticity, environment<span class="op">==</span><span class="st">&quot;Fluctuating&quot;</span> <span class="op">&amp;</span><span class="st"> </span>sensors <span class="op">==</span><span class="st"> &quot;Sensors&quot;</span> <span class="op">&amp;</span><span class="st"> </span>phenotype <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;plastic&quot;</span>, <span class="st">&quot;plastic_adaptive&quot;</span>, <span class="st">&quot;plastic_optimal&quot;</span>, <span class="st">&quot;plastic_nonadaptive&quot;</span>)), <span class="kw">aes</span>(<span class="dt">x=</span>phenotype, <span class="dt">y=</span>phenotype_cnt, <span class="dt">fill=</span>phenotype)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span><span class="kw">geom_bar</span>(</a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb7-4" title="4">    <span class="dt">position=</span><span class="kw">position_dodge</span>(<span class="fl">0.9</span>)</a>
<a class="sourceLine" id="cb7-5" title="5">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span><span class="kw">geom_text</span>(</a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">label=</span>phenotype_cnt),</a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="dt">vjust=</span><span class="fl">0.05</span></a>
<a class="sourceLine" id="cb7-10" title="10">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Accent&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="st">  </span><span class="kw">scale_x_discrete</span>(</a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="dt">name=</span><span class="st">&quot;Phenotype&quot;</span>,</a>
<a class="sourceLine" id="cb7-14" title="14">    <span class="dt">limits=</span><span class="kw">c</span>(<span class="st">&quot;plastic&quot;</span>,  <span class="st">&quot;plastic_adaptive&quot;</span>, <span class="st">&quot;plastic_optimal&quot;</span>, <span class="st">&quot;plastic_nonadaptive&quot;</span>),</a>
<a class="sourceLine" id="cb7-15" title="15">    <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Total plastic&quot;</span>, <span class="st">&quot;Adaptive plasticity&quot;</span>, <span class="st">&quot;Optimal plasticity&quot;</span>, <span class="st">&quot;Non-adaptive plasticity&quot;</span>)</a>
<a class="sourceLine" id="cb7-16" title="16">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="st">  </span><span class="kw">facet_grid</span>(sensors<span class="op">~</span>environment) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="st">  </span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb7-19" title="19">    <span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span></a>
<a class="sourceLine" id="cb7-20" title="20">  )</a></code></pre></div>
<p><img src="supplemental-material_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="effect-of-phenotypic-plasticity-on-subsequent-evolutionary-dynamics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/amlalejini/evolutionary-consequences-of-plasticity/tree/master/experiments/2021-01-07-validation/analysis/2021-01-07-validation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["supplemental-material.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
